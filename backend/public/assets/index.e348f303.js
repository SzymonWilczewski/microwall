import{a as ee,u as S,w as te,o as l,c as u,F as P,b as e,d as N,e as B,f as R,g as v,l as V,r as C,h as p,i as f,j as a,t as w,k as x,m as F,n as H,p as Q,q as re,s as T,v as $,x as G,y as j,z as M,A as U,B as se,C as X,D as Y,E as ae,G as oe,H as de,I as ne,J as le}from"./vendor.d90b5f44.js";const ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const b of n.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};ie();var _=ee.create({baseURL:"https://localhost:5000",withCredentials:!0});const ce=e("div",{id:"toast-success",class:"fixed bottom-6 right-6 flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 hidden",role:"alert"},[e("div",{class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"},[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])]),e("div",{id:"toast-success-message",class:"ml-3 text-sm font-normal"}," Success "),e("button",{type:"button",class:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-collapse-toggle":"toast-success","aria-label":"Close"},[e("span",{class:"sr-only"},"Close"),e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1),ue=e("div",{id:"toast-error",class:"fixed bottom-6 right-6 flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 hidden",role:"alert"},[e("div",{class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200"},[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])]),e("div",{id:"toast-error-message",class:"ml-3 text-sm font-normal"},"Error"),e("button",{type:"button",class:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-collapse-toggle":"toast-error","aria-label":"Close"},[e("span",{class:"sr-only"},"Close"),e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1),ge=e("div",{id:"toast-warning",class:"fixed bottom-6 right-6 flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 hidden",role:"alert"},[e("div",{class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-orange-500 bg-orange-100 rounded-lg dark:bg-orange-700 dark:text-orange-200"},[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),e("div",{id:"toast-warning-message",class:"ml-3 text-sm font-normal"}," Warning "),e("button",{type:"button",class:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-collapse-toggle":"toast-warning","aria-label":"Close"},[e("span",{class:"sr-only"},"Close"),e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1),me={setup(r){const t=S();return te(()=>t.state.toast,({type:s,message:d})=>{document.querySelector(`#toast-${s}-message`).textContent=d,document.querySelector(`#toast-${s}`).classList.remove("hidden"),setTimeout(()=>document.querySelector(`#toast-${s}`).classList.add("hidden"),5e3)}),(s,d)=>(l(),u(P,null,[ce,ue,ge],64))}},be={class:"sticky w-11/12 mx-auto my-4 bg-white border-gray-200 px-2 sm:px-4 py-2.5 rounded-xl dark:bg-gray-800"},he={class:"container flex flex-wrap justify-between items-center mx-auto"},pe=e("svg",{class:"mr-3",width:"2.5rem",height:"2.5rem",viewBox:"0 0 20 20"},[e("path",{d:"M9.546 17.258h.955v2.143c6.51-.684 9.982-7.143 9.421-11.691C19.358 3.16 14.471.018 8.978.69C3.486 1.364-.49 5.598.072 10.149c.513 4.138 4.602 7.113 9.474 7.109zm6.148-4.398h-1.831V7.907a2.78 2.78 0 0 0-.053-.557a.926.926 0 0 0-.164-.381a.808.808 0 0 0-.33-.244c-.152-.066-.363-.1-.623-.1c-.537 0-.957.141-1.251.416c-.291.273-.433.633-.433 1.1v4.719h-1.83V7.907c0-.205-.019-.395-.059-.564a1.006 1.006 0 0 0-.173-.387a.757.757 0 0 0-.314-.237a1.5 1.5 0 0 0-.58-.094c-.312 0-.58.059-.795.174c-.223.117-.405.26-.541.422a1.627 1.627 0 0 0-.299.506c-.062.172-.092.31-.092.414v4.719H4.494V5.164h1.758v.6c.574-.508 1.306-.766 2.181-.766c.51 0 .981.103 1.399.305c.306.147.554.365.738.652c.231-.248.504-.451.814-.609a3.271 3.271 0 0 1 1.499-.348c.402 0 .773.043 1.102.127c.343.086.644.225.895.412c.258.193.46.445.602.75c.141.301.212.66.212 1.07v5.503z",fill:"currentColor"})],-1),xe=e("span",{class:"self-center text-lg font-semibold whitespace-nowrap"},"MicroWall",-1),ye={class:"flex items-center md:order-2"},fe=Q('<button type="button" class="flex mr-3 text-sm rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="dropdown"><span class="sr-only">Open user menu</span><svg width="2.5rem" height="2.5rem" viewBox="0 0 24 24"><g fill="currentColor"><path d="M12 4a8 8 0 1 0 0 16a8 8 0 0 0 0-16zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12z M12 8a3 3 0 1 0 0 6a3 3 0 0 0 0-6zm-5 3a5 5 0 1 1 10 0a5 5 0 0 1-10 0z M12 16a5.003 5.003 0 0 0-4.716 3.333a1 1 0 1 1-1.885-.666a7.002 7.002 0 0 1 13.202 0a1 1 0 1 1-1.885.666A5.002 5.002 0 0 0 12 16z"></path></g></svg></button>',1),_e={class:"hidden z-50 my-4 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600",id:"dropdown"},ke={key:0,class:"py-3 px-4"},ve={class:"block text-sm text-gray-900 dark:text-white"},we={class:"block text-sm font-medium text-gray-500 truncate dark:text-gray-400"},$e={class:"py-1","aria-labelledby":"dropdown"},Se={key:0},Ce=e("div",{class:"w-full block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"}," Login ",-1),Le={key:1},Ee=e("div",{class:"w-full block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"}," Register ",-1),Te={key:2},Me=e("div",{class:"w-full block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"}," My account ",-1),Ue={key:3},Pe=["onSubmit"],Ae=e("button",{type:"submit",class:"w-full block py-2 px-4 text-sm text-left text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"}," Logout ",-1),Ie=[Ae],qe=Q('<button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button>',1),Ne={class:"hidden justify-between items-center w-full md:flex md:w-auto md:order-1",id:"mobile-menu-2"},Fe={class:"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium"},Oe={setup(r){const t=S(),s=N(),d=B();R(()=>t.dispatch("getMe"));const o=()=>_.post("/api/logout").then(()=>{t.dispatch("getToast",{type:"success",message:"Logout successful"}),t.dispatch("deleteMe"),s.push({name:"Home"})}).catch(g=>console.error(g)),n=v(()=>t.state.me),b=v(()=>t.state.notifications),i=V("https://localhost:5000/friends/notifications",{withCredentials:!0});return i.on("+",g=>t.dispatch("increaseNotification",g)),i.on("-",g=>t.dispatch("decreaseNotification",g)),(g,m)=>{const h=C("router-link");return l(),u("nav",be,[e("div",he,[p(h,{to:{name:"Home"},class:"flex"},{default:f(()=>[pe,xe]),_:1}),e("div",ye,[fe,e("div",_e,[a(n)?(l(),u("div",ke,[e("span",ve,w(a(n).first_name+" "+a(n).last_name),1),e("span",we,"@"+w(a(n).username),1)])):x("",!0),e("ul",$e,[a(n)?x("",!0):(l(),u("li",Se,[p(h,{to:{name:"Login"}},{default:f(()=>[Ce]),_:1})])),a(n)?x("",!0):(l(),u("li",Le,[p(h,{to:{name:"Register"}},{default:f(()=>[Ee]),_:1})])),a(n)?(l(),u("li",Te,[p(h,{to:{name:"UserId",params:{id:a(n)._id}}},{default:f(()=>[Me]),_:1},8,["to"])])):x("",!0),a(n)?(l(),u("li",Ue,[e("form",{onSubmit:F(o,["prevent"])},Ie,40,Pe)])):x("",!0)])]),qe]),e("div",Ne,[e("ul",Fe,[e("li",null,[p(h,{to:{name:"Home"}},{default:f(()=>[e("div",{class:H(["text-gray-700 dark:text-gray-400 md:hover:text-blue-700 md:dark:hover:text-white",{"text-blue-700 !dark:text-white":a(d).name==="Home"}])}," Posts ",2)]),_:1})]),e("li",null,[p(h,{to:{name:"Users"}},{default:f(()=>[e("div",{class:H(["text-gray-700 dark:text-gray-400 md:hover:text-blue-700 md:dark:hover:text-white",{"text-blue-700 !dark:text-white":a(d).name==="Users"}])}," Users "+w(a(b)),3)]),_:1})]),e("li",null,[p(h,{to:{name:"AddPost"}},{default:f(()=>[e("div",{class:H(["text-gray-700 dark:text-gray-400 md:hover:text-blue-700 md:dark:hover:text-white",{"text-blue-700 !dark:text-white":a(d).name==="AddPost"}])}," Add post ",2)]),_:1})])])])]),p(me)])}}};const ze={class:"h-full"},Re={class:"overflow-auto h-full bg-gray-200 dark:bg-gray-900 dark:text-white"},Ve={setup(r){return window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.add("light"),(t,s)=>{const d=C("router-view");return l(),u("div",ze,[e("div",Re,[p(Oe),p(d)])])}}};var Ge=re({state:{users:[],user:{},me:null,posts:[],post:{},comments:[],toast:{},id:"",notifications:0},mutations:{GET_USERS(r,t){r.users=t},GET_USER(r,t){r.user=t},GET_ME(r,t){r.me=t},ADD_ME(r,t){r.me=t},DELETE_ME(r){r.me=null},GET_POSTS(r,t){r.posts=t},GET_POST(r,t){r.post=t},GET_COMMENTS(r,t){r.comments=t},GET_TOAST(r,t){r.toast=t},INCREASE_NOTIFICATIONS(r){r.notifications=r.notifications+1},DECREASE_NOTIFICATIONS(r){r.notifications=r.notifications-1},RESET_NOTIFICATIONS(r){r.notifications=0}},actions:{getUsers({commit:r}){return _.get("/api/user").then(t=>r("GET_USERS",t.data.users)).catch(t=>console.error(t))},getUser({commit:r},t){if(t)return _.get("/api/user/"+t).then(s=>r("GET_USER",s.data.user)).catch(s=>console.error(s))},getMe({commit:r}){return _.get("/api/me").then(t=>r("GET_ME",t.data.user)).catch(t=>t.response.data.message==="apiUserDoesNotExistError"?r("GET_ME",void 0):console.error(t))},deleteMe({commit:r}){return r("DELETE_ME")},addFriend({dispatch:r},t){return _.post("/api/user/friends/"+t).then(()=>r("getMe")&&r("getUser",t)&&r("getUsers")).catch(s=>console.error(s))},deleteFriend({dispatch:r},t){return _.delete("/api/user/friends/"+t).then(()=>r("getMe")&&r("getUser",t)&&r("getUsers")).catch(s=>console.error(s))},getAllPosts({commit:r,dispatch:t},s){return _.get("/api/post/"+s).then(d=>r("GET_POSTS",d.data.posts)).catch(()=>t("getToast",{type:"error",message:"Access denied"}))},getUserPosts({commit:r,dispatch:t},{type:s,author_id:d}){return _.get("/api/post/"+s+"/"+d).then(o=>r("GET_POSTS",o.data.posts)).catch(o=>{console.log(o),r("GET_POSTS",[]),t("getToast",{type:"error",message:"Access denied"})})},getPost({commit:r},t){return _.get("/api/post/"+t).then(s=>r("GET_POST",s.data.post)).catch(s=>console.error(s))},getComments({commit:r,dispatch:t},{type:s,id:d}){return _.get("/api/comment/"+s+"/"+d).then(o=>r("GET_COMMENTS",o.data.comments)).catch(()=>{r("GET_COMMENTS",[]),t("getToast",{type:"error",message:"Access denied"})})},getToast({commit:r},{type:t,message:s}){r("GET_TOAST",{type:t,message:s})},increaseNotification({commit:r,state:t},s){t.me._id.toString()===s&&r("INCREASE_NOTIFICATIONS")},decreaseNotification({commit:r,state:t},s){t.me._id.toString()===s&&r("DECREASE_NOTIFICATIONS")},resetNotification({commit:r}){r("RESET_NOTIFICATIONS")}},getters:{friendStatus:r=>{var t;return((t=r.me)==null?void 0:t.friends.some(s=>s.user._id===r.user._id))?r.me.friends.find(s=>s.user._id===r.user._id).status:0},usersWithoutMe:r=>r.users.filter(t=>{var s;return(t==null?void 0:t._id)!==((s=r==null?void 0:r.me)==null?void 0:s._id)}),meId:r=>{var t;return(t=r.me)==null?void 0:t._id.toString()}}});const Be={class:"bg-white p-4 rounded-lg dark:bg-gray-800"},He={class:"grid grid-cols-[auto,75px]"},je={class:"text-gray-500 text-xl mb-3 dark:text-gray-400 hover:text-black hover:dark:text-white"},De={key:0,class:"text-right text-gray-500 text-lg mb-3 dark:text-gray-400"},We=["innerHTML"],Z={props:{post:Object},setup(r){return(t,s)=>{const d=C("router-link");return l(),u("div",Be,[r.post.author?(l(),T(d,{key:0,to:{name:"UserId",params:{id:r.post.author._id}}},{default:f(()=>{var o;return[e("div",He,[e("div",je,w(r.post.author.first_name+" "+r.post.author.last_name),1),((o=r.post)==null?void 0:o.author)?(l(),u("div",De,w(r.post.type),1)):x("",!0)])]}),_:1},8,["to"])):x("",!0),p(d,{to:{name:"PostId",params:{id:r.post._id}}},{default:f(()=>[e("div",{innerHTML:r.post.text},null,8,We)]),_:1},8,["to"])])}}},Ke={class:"grid grid-cols-[minmax(200px,700px)] gap-8 place-content-center p-6"},Je={setup(r){const t=$([]);return _.get("/api/post/public").then(s=>t.value=s.data.posts).catch(s=>console.error(s)),(s,d)=>(l(),u("div",Ke,[(l(!0),u(P,null,G(t.value,(o,n)=>(l(),T(Z,{key:n,post:o},null,8,["post"]))),128))]))}},Qe={setup(r){return(t,s)=>(l(),T(Je))}},Xe={class:"max-w-sm bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},Ye={class:"flex flex-col items-center py-10"},Ze=e("svg",{width:"6rem",height:"6rem",viewBox:"0 0 24 24",class:"mx-auto"},[e("g",{fill:"currentColor"},[e("path",{d:"M12 4a8 8 0 1 0 0 16a8 8 0 0 0 0-16zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12z M12 8a3 3 0 1 0 0 6a3 3 0 0 0 0-6zm-5 3a5 5 0 1 1 10 0a5 5 0 0 1-10 0z M12 16a5.003 5.003 0 0 0-4.716 3.333a1 1 0 1 1-1.885-.666a7.002 7.002 0 0 1 13.202 0a1 1 0 1 1-1.885.666A5.002 5.002 0 0 0 12 16z"})])],-1),et={class:"mb-1 text-xl font-medium text-center text-gray-900 dark:text-white"},tt={class:"text-sm text-center text-gray-500 dark:text-gray-400"},rt={key:0,class:"flex mt-4 space-x-3 lg:mt-6"},st={key:1,class:"flex mt-4 space-x-3 lg:mt-6"},at={key:2,class:"flex mt-4 space-x-3 lg:mt-6"},ot={key:3,class:"flex mt-4 space-x-3 lg:mt-6"},dt={props:{user:Object},setup(r){const t=r,s=S(),d=v(()=>s.state.me),o=v(()=>{var b;return t.user&&d.value&&((b=t.user)==null?void 0:b.friends.some(i=>i.user._id===d.value._id))?t.user.friends.find(i=>i.user._id===d.value._id).status:0});return V("https://localhost:5000/friends",{withCredentials:!0}).on("refresh",()=>s.dispatch("getMe")&&s.dispatch("getUser",t.user._id)&&s.dispatch("getUsers")),(b,i)=>{var m,h,c,k;const g=C("router-link");return l(),u("div",Xe,[e("div",Ye,[((m=r.user)==null?void 0:m._id)!==void 0?(l(),T(g,{key:0,to:{name:"UserId",params:{id:(h=r.user)==null?void 0:h._id}}},{default:f(()=>[Ze,e("h3",et,w(r.user.first_name+" "+r.user.last_name),1),e("div",tt,w("@"+r.user.username),1)]),_:1},8,["to"])):x("",!0),((c=a(d))==null?void 0:c._id)!==((k=r.user)==null?void 0:k._id)?(l(),u(P,{key:1},[a(o)===0?(l(),u("div",rt,[e("button",{onClick:i[0]||(i[0]=L=>{var y;return a(s).dispatch("addFriend",(y=r.user)==null?void 0:y._id)}),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add friend ")])):a(o)===1?(l(),u("div",st,[e("button",{onClick:i[1]||(i[1]=L=>{var y;return a(s).dispatch("addFriend",(y=r.user)==null?void 0:y._id)}),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Confirm request "),e("button",{onClick:i[2]||(i[2]=L=>{var y;return a(s).dispatch("deleteFriend",(y=r.user)==null?void 0:y._id)}),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Delete request ")])):a(o)===2?(l(),u("div",at,[e("button",{onClick:i[3]||(i[3]=L=>{var y;return a(s).dispatch("deleteFriend",(y=r.user)==null?void 0:y._id)}),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Cancel request ")])):a(o)===3?(l(),u("div",ot,[e("button",{onClick:i[4]||(i[4]=L=>{var y;return a(s).dispatch("deleteFriend",(y=r.user)==null?void 0:y._id)}),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Friends ")])):x("",!0)],64)):x("",!0)])])}}},nt={class:"grid grid-cols-[repeat(auto-fit,minmax(150px,300px))] gap-8 place-content-center p-6 md:px-16 lg:px-48"},lt={setup(r){const t=S();t.dispatch("getUsers");const s=v(()=>t.getters.usersWithoutMe);return R(()=>t.dispatch("resetNotification")),(d,o)=>(l(),u("div",nt,[(l(!0),u(P,null,G(a(s),(n,b)=>(l(),T(dt,{key:b,user:n},null,8,["user"]))),128))]))}},it={key:0,class:"grid grid-cols-[minmax(200px,700px)] gap-8 place-content-center p-6"},ct={class:"max-w-full bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},ut={class:"flex flex-col items-center py-10"},gt=e("svg",{width:"6rem",height:"6rem",viewBox:"0 0 24 24"},[e("g",{fill:"currentColor"},[e("path",{d:"M12 4a8 8 0 1 0 0 16a8 8 0 0 0 0-16zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12z M12 8a3 3 0 1 0 0 6a3 3 0 0 0 0-6zm-5 3a5 5 0 1 1 10 0a5 5 0 0 1-10 0z M12 16a5.003 5.003 0 0 0-4.716 3.333a1 1 0 1 1-1.885-.666a7.002 7.002 0 0 1 13.202 0a1 1 0 1 1-1.885.666A5.002 5.002 0 0 0 12 16z"})])],-1),mt={key:0,class:"mb-1 text-xl font-medium text-center text-gray-900 dark:text-white"},bt={key:1,class:"text-sm text-center text-gray-500 dark:text-gray-400"},ht={key:0,class:"flex mt-4 space-x-3 lg:mt-6"},pt={key:1,class:"flex mt-4 space-x-3 lg:mt-6"},xt={key:2,class:"flex mt-4 space-x-3 lg:mt-6"},yt={key:3,class:"flex mt-4 space-x-3 lg:mt-6"},ft={key:3,class:"flex mt-4 space-x-3 lg:mt-6"},_t=j(" Edit account "),kt={setup(r){const t=S(),s=B(),d=()=>{document.querySelector("#public-button").classList.remove("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),document.querySelector("#public-button").classList.add("text-white","bg-blue-600"),document.querySelector("#private-button").classList.remove("text-white","bg-blue-600"),document.querySelector("#private-button").classList.add("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),t.dispatch("getUserPosts",{type:"public",author_id:s.params.id})},o=()=>{document.querySelector("#private-button").classList.remove("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),document.querySelector("#private-button").classList.add("text-white","bg-blue-600"),document.querySelector("#public-button").classList.remove("text-white","bg-blue-600"),document.querySelector("#public-button").classList.add("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),t.dispatch("getUserPosts",{type:"private",author_id:s.params.id})};R(()=>{t.dispatch("getUser",s.params.id),t.dispatch("getUserPosts",{type:"public",author_id:s.params.id})});const n=v(()=>t.state.user),b=v(()=>t.state.me),i=v(()=>t.state.posts),g=v(()=>t.getters.friendStatus);return V("https://localhost:5000/friends",{withCredentials:!0}).on("refresh",()=>t.dispatch("getMe")&&t.dispatch("getUser",s.params.id)&&t.dispatch("getUsers")),(h,c)=>{var L,y,I,q;const k=C("router-link");return a(n)?(l(),u("div",it,[e("div",ct,[e("div",ut,[gt,a(n)?(l(),u("h3",mt,w(a(n).first_name+" "+a(n).last_name),1)):x("",!0),a(n)?(l(),u("div",bt,w("@"+a(n).username),1)):x("",!0),((L=a(b))==null?void 0:L._id)!==((y=a(n))==null?void 0:y._id)?(l(),u(P,{key:2},[a(g)===0?(l(),u("div",ht,[e("button",{onClick:c[0]||(c[0]=E=>a(t).dispatch("addFriend",a(s).params.id)),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add friend ")])):a(g)===1?(l(),u("div",pt,[e("button",{onClick:c[1]||(c[1]=E=>a(t).dispatch("deleteFriend",a(s).params.id)),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Cancel request ")])):a(g)===2?(l(),u("div",xt,[e("button",{onClick:c[2]||(c[2]=E=>a(t).dispatch("addFriend",a(s).params.id)),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Confirm request "),e("button",{onClick:c[3]||(c[3]=E=>a(t).dispatch("deleteFriend",a(s).params.id)),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Delete request ")])):a(g)===3?(l(),u("div",yt,[e("button",{onClick:c[4]||(c[4]=E=>a(t).dispatch("deleteFriend",a(s).params.id)),class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Friends ")])):x("",!0)],64)):x("",!0),((I=a(b))==null?void 0:I._id)===((q=a(n))==null?void 0:q._id)?(l(),u("div",ft,[p(k,{to:{name:"MeEdit"},class:"inline-flex items-center py-2 px-4 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:f(()=>[_t]),_:1})])):x("",!0)])]),e("ul",{class:"flex flex-wrap justify-center"},[e("li",{class:"mr-2"},[e("button",{id:"public-button",onClick:d,class:"inline-block py-3 px-4 text-sm font-medium text-center rounded-lg text-white bg-blue-600"}," Public ")]),e("li",{class:"mr-2"},[e("button",{id:"private-button",onClick:o,class:"inline-block py-3 px-4 text-sm font-medium text-center rounded-lg text-gray-500 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"}," Private ")])]),(l(!0),u(P,null,G(a(i),(E,O)=>(l(),T(Z,{key:O,post:E},null,8,["post"]))),128))])):x("",!0)}}},vt={class:"grid place-items-center h-[calc(100vh-96px)]"},wt={class:"p-6 md:w-sm bg-white rounded-lg border border-gray-200 shadow-md sm:p-6 lg:p-8 dark:bg-gray-800 dark:border-gray-700"},$t=["onSubmit"],St=e("h3",{class:"text-xl font-medium text-gray-900 dark:text-white"}," Login to MicroWall ",-1),Ct=e("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Username",-1),Lt=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Password",-1),Et=e("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Login to your account ",-1),Tt={class:"text-sm font-medium text-gray-500 dark:text-gray-300"},Mt=j(" Not registered? "),Ut=e("span",{class:"text-blue-700 hover:underline dark:text-blue-500"}," Create account ",-1),Pt={setup(r){const t=S(),s=N(),d=$(""),o=$(""),n=()=>_.post("/api/login",{username:d.value,password:o.value}).then(()=>{t.dispatch("getToast",{type:"success",message:"Login successful"}),t.dispatch("getMe"),s.push({name:"Home"})}).catch(b=>console.error(b));return(b,i)=>{const g=C("router-link");return l(),u("div",vt,[e("div",wt,[e("form",{class:"space-y-6",onSubmit:F(n,["prevent"])},[St,e("div",null,[Ct,M(e("input",{type:"username","onUpdate:modelValue":i[0]||(i[0]=m=>d.value=m),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Username",required:"true"},null,512),[[U,d.value]])]),e("div",null,[Lt,M(e("input",{type:"password","onUpdate:modelValue":i[1]||(i[1]=m=>o.value=m),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:"true"},null,512),[[U,o.value]])]),Et,e("div",Tt,[Mt,p(g,{to:{name:"Register"}},{default:f(()=>[Ut]),_:1})])],40,$t)])])}}},At={class:"grid place-items-center h-[calc(100vh-96px)]"},It={class:"p-6 md:w-sm bg-white rounded-lg border border-gray-200 shadow-md sm:p-6 lg:p-8 dark:bg-gray-800 dark:border-gray-700"},qt=["onSubmit"],Nt=e("h3",{class:"text-xl font-medium text-gray-900 dark:text-white"}," Create an account ",-1),Ft=e("label",{for:"first_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"First name",-1),Ot=e("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Last name",-1),zt=e("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Username",-1),Rt=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Password",-1),Vt=e("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Register ",-1),Gt={class:"text-sm font-medium text-gray-500 dark:text-gray-300"},Bt=j(" Already a user? "),Ht=e("span",{class:"text-blue-700 hover:underline dark:text-blue-500"}," Sign in ",-1),jt={setup(r){const t=S(),s=N(),d=$(""),o=$(""),n=$(""),b=$(""),i=()=>_.post("/api/register",{first_name:d.value,last_name:o.value,username:n.value,password:b.value}).then(()=>{t.dispatch("getToast",{type:"success",message:"Registration successful"}),t.dispatch("getMe"),s.push({name:"Login"})}).catch(g=>console.error(g));return(g,m)=>{const h=C("router-link");return l(),u("div",At,[e("div",It,[e("form",{class:"space-y-6",onSubmit:F(i,["prevent"])},[Nt,e("div",null,[Ft,M(e("input",{type:"first_name","onUpdate:modelValue":m[0]||(m[0]=c=>d.value=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"First name",required:"true"},null,512),[[U,d.value]])]),e("div",null,[Ot,M(e("input",{type:"last_name","onUpdate:modelValue":m[1]||(m[1]=c=>o.value=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Last name",required:"true"},null,512),[[U,o.value]])]),e("div",null,[zt,M(e("input",{type:"username","onUpdate:modelValue":m[2]||(m[2]=c=>n.value=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Username",required:"true"},null,512),[[U,n.value]])]),e("div",null,[Rt,M(e("input",{type:"password","onUpdate:modelValue":m[3]||(m[3]=c=>b.value=c),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:"true"},null,512),[[U,b.value]])]),Vt,e("div",Gt,[Bt,p(h,{to:{name:"Login"}},{default:f(()=>[Ht]),_:1})])],40,qt)])])}}},Dt={class:"grid place-items-center h-[calc(100vh-96px)]"},Wt={class:"p-6 md:w-sm bg-white rounded-lg border border-gray-200 shadow-md sm:p-6 lg:p-8 dark:bg-gray-800 dark:border-gray-700"},Kt=["onSubmit"],Jt=e("h3",{class:"text-xl font-medium text-gray-900 dark:text-white"}," What's on your mind? ",-1),Qt=e("label",{for:"type",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Post type",-1),Xt=e("option",{value:"GENERAL"},"General",-1),Yt=e("option",{value:"PUBLIC"},"Public",-1),Zt=e("option",{value:"PRIVATE"},"Private",-1),er=[Xt,Yt,Zt],tr=e("label",{for:"text",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Text",-1),rr=e("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add post ",-1),sr={setup(r){const t=S(),s=N(),d=$(""),o=$(""),n=()=>_.post("/api/post",{type:d.value,text:X.link(o.value)}).then(()=>{t.dispatch("getToast",{type:"success",message:"Post added successfully"}),t.dispatch("getAllPosts","public"),s.push({name:"Home"})}).catch(b=>console.error(b));return(b,i)=>(l(),u("div",Dt,[e("div",Wt,[e("form",{class:"space-y-6",onSubmit:F(n,["prevent"])},[Jt,e("div",null,[Qt,M(e("select",{"onUpdate:modelValue":i[0]||(i[0]=g=>d.value=g),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:"true"},er,512),[[se,d.value]])]),e("div",null,[tr,M(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=g=>o.value=g),rows:"4",class:"block p-2 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Text",required:"true"},null,512),[[U,o.value]])]),rr],40,Kt)])]))}},ar={class:"grid place-items-center h-[calc(100vh-96px)]"},or={class:"p-6 md:w-sm bg-white rounded-lg border border-gray-200 shadow-md sm:p-6 lg:p-8 dark:bg-gray-800 dark:border-gray-700"},dr=e("h3",{class:"text-xl font-medium text-gray-900 dark:text-white"}," Edit your account ",-1),nr={setup(r){var b,i,g;const t=S(),s=N(),d=$({first_name:(b=t.state.me)==null?void 0:b.first_name,last_name:(i=t.state.me)==null?void 0:i.last_name,username:(g=t.state.me)==null?void 0:g.username,old_password:void 0,new_password:void 0}),o=m=>_.patch("/api/user",{first_name:m.first_name?m.first_name:void 0,last_name:m.last_name?m.last_name:void 0,username:m.username?m.username:void 0,old_password:m.old_password?m.old_password:void 0,new_password:m.new_password?m.new_password:void 0}).then(()=>{t.dispatch("getToast",{type:"success",message:"Account edited successfully"}),t.dispatch("getMe"),m.username&&m.username!==n.value.username||m.old_password&&m.new_password?s.push({name:"Login"}):s.push({name:"UserId",params:{id:n.value._id}})}).catch(h=>{h.response.data.message==="apiIncorrectPasswordError: Password or username is incorrect"?Y("form",["Password or username is incorrect"]):Y("form",[h.response.data.message]),console.error(h)}),n=v(()=>t.state.me);return(m,h)=>{const c=C("FormKit");return l(),u("div",ar,[e("div",or,[p(c,{id:"form",type:"form",modelValue:d.value,"onUpdate:modelValue":h[0]||(h[0]=k=>d.value=k),actions:!1,"form-class":"space-y-6",onSubmit:o,"message-class":"text-sm text-red-600 dark:text-red-500"},{default:f(()=>[dr,p(c,{type:"text",name:"first_name",label:"First name","label-class":"block text-sm font-medium text-gray-900 dark:text-gray-300","input-class":"bg-gray-50 my-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"First name",validation:"alpha|length:2,64","validation-visibility":"live","message-class":"text-sm text-red-600 dark:text-red-500"}),p(c,{type:"text",name:"last_name",label:"Last name","label-class":"block text-sm font-medium text-gray-900 dark:text-gray-300","input-class":"bg-gray-50 my-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Last name",validation:"alpha|length:2,64","validation-visibility":"live","message-class":"text-sm text-red-600 dark:text-red-500"}),p(c,{type:"text",name:"username",label:"Username","label-class":"block text-sm font-medium text-gray-900 dark:text-gray-300","input-class":"bg-gray-50 my-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Username",validation:"length:2,64","validation-visibility":"live","message-class":"text-sm text-red-600 dark:text-red-500"}),p(c,{type:"password",name:"old_password",label:"Old password","label-class":"block text-sm font-medium text-gray-900 dark:text-gray-300","input-class":"bg-gray-50 my-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),p(c,{type:"password",name:"new_password",label:"New password","label-class":"block text-sm font-medium text-gray-900 dark:text-gray-300","input-class":"bg-gray-50 my-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),p(c,{type:"submit",label:"Edit account","input-class":"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"})]),_:1},8,["modelValue"])])])}}},lr={class:"bg-white p-4 rounded-lg dark:bg-gray-800"},ir={class:"text-gray-500 text-xl mb-3 dark:text-gray-400 hover:text-black hover:dark:text-white"},cr=["innerHTML"],ur={props:{comment:Object},setup(r){return(t,s)=>{var o,n,b,i;const d=C("router-link");return l(),u("div",lr,[((o=r.comment)==null?void 0:o.author)?(l(),T(d,{key:0,to:{name:"UserId",params:{id:(b=(n=r.comment)==null?void 0:n.author)==null?void 0:b._id}}},{default:f(()=>{var g,m,h,c;return[e("div",ir,w(((m=(g=r.comment)==null?void 0:g.author)==null?void 0:m.first_name)+" "+((c=(h=r.comment)==null?void 0:h.author)==null?void 0:c.last_name)),1)]}),_:1},8,["to"])):x("",!0),e("div",{innerHTML:(i=r.comment)==null?void 0:i.text},null,8,cr)])}}},gr={key:0,class:"grid grid-cols-[minmax(200px,700px)] gap-8 place-content-center p-6"},mr={class:"relative bg-white p-4 rounded-lg dark:bg-gray-800"},br={class:"grid grid-cols-[auto,75px]"},hr={class:"text-gray-500 text-xl mb-3 dark:text-gray-400 hover:text-black hover:dark:text-white"},pr={key:0,class:"text-right text-gray-500 text-lg mb-3 dark:text-gray-400"},xr=["innerHTML"],yr={class:"p-6 bg-white rounded-lg border border-gray-200 shadow-md sm:p-6 lg:p-8 dark:bg-gray-800 dark:border-gray-700"},fr=["onSubmit"],_r=e("h3",{class:"text-xl font-medium text-gray-900 dark:text-white"}," Add comment ",-1),kr=e("label",{for:"text",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Text",-1),vr=e("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add comment ",-1),wr={key:0,class:"flex flex-wrap justify-center"},$r={setup(r){const t=S(),s=B(),d=$("PUBLIC"),o=$(""),n=()=>_.post("/api/comment",{_id:s.params.id,type:d.value,text:X.link(o.value)}).then(()=>{t.dispatch("getToast",{type:"success",message:"Comment added successfully"}),t.dispatch("getComments",{type:d.value,id:s.params.id}),o.value=""}).catch(c=>console.error(c)),b=()=>{document.querySelector("#public-comments-button").classList.remove("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),document.querySelector("#public-comments-button").classList.add("text-white","bg-blue-600"),document.querySelector("#private-comments-button").classList.remove("text-white","bg-blue-600"),document.querySelector("#private-comments-button").classList.add("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),d.value="PUBLIC",t.dispatch("getComments",{type:"public",id:s.params.id})},i=()=>{document.querySelector("#private-comments-button").classList.remove("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),document.querySelector("#private-comments-button").classList.add("text-white","bg-blue-600"),document.querySelector("#public-comments-button").classList.remove("text-white","bg-blue-600"),document.querySelector("#public-comments-button").classList.add("text-gray-500","hover:text-gray-900","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800","dark:hover:text-white"),d.value="PRIVATE",t.dispatch("getComments",{type:"private",id:s.params.id})};R(()=>{t.dispatch("getPost",s.params.id),t.dispatch("getComments",{type:"public",id:s.params.id})});const g=v(()=>t.state.post),m=v(()=>t.state.comments),h=V("https://localhost:5000"+s.path,{withCredentials:!0});return h.on("commentsPublic",({type:c,id:k})=>t.dispatch("getComments",{type:c,id:k})),h.on("commentsPrivate",({type:c,id:k})=>t.dispatch("getComments",{type:c,id:k})),(c,k)=>{var y,I,q,E,O,D;const L=C("router-link");return a(g)?(l(),u("div",gr,[e("div",mr,[((I=(y=a(g))==null?void 0:y.author)==null?void 0:I._id)!==void 0?(l(),T(L,{key:0,to:{name:"UserId",params:{id:(E=(q=a(g))==null?void 0:q.author)==null?void 0:E._id}}},{default:f(()=>{var A,z,W,K,J;return[e("div",br,[e("div",hr,w(((z=(A=a(g))==null?void 0:A.author)==null?void 0:z.first_name)+" "+((K=(W=a(g))==null?void 0:W.author)==null?void 0:K.last_name)),1),((J=a(g))==null?void 0:J.author)?(l(),u("div",pr,w(a(g).type),1)):x("",!0)])]}),_:1},8,["to"])):x("",!0),e("div",{innerHTML:(O=a(g))==null?void 0:O.text},null,8,xr)]),e("div",yr,[e("form",{class:"space-y-6",onSubmit:F(n,["prevent"])},[_r,e("div",null,[kr,M(e("textarea",{"onUpdate:modelValue":k[0]||(k[0]=A=>o.value=A),rows:"4",class:"block p-2 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Text",required:"true"},null,512),[[U,o.value]])]),vr],40,fr)]),((D=a(g))==null?void 0:D.type)==="GENERAL"?(l(),u("ul",wr,[e("li",{class:"mr-2"},[e("button",{id:"public-comments-button",onClick:b,class:"inline-block py-3 px-4 text-sm font-medium text-center rounded-lg text-white bg-blue-600"}," Public ")]),e("li",{class:"mr-2"},[e("button",{id:"private-comments-button",onClick:i,class:"inline-block py-3 px-4 text-sm font-medium text-center rounded-lg text-gray-500 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"}," Private ")])])):x("",!0),(l(!0),u(P,null,G(a(m),(A,z)=>(l(),T(ur,{key:z,comment:A},null,8,["comment"]))),128))])):x("",!0)}}};var Sr=ae({history:oe({}.BASE_URL),routes:[{path:"/",name:"Home",component:Qe},{path:"/users",name:"Users",component:lt},{path:"/user/:id",name:"UserId",props:!0,component:kt},{path:"/login",name:"Login",component:Pt},{path:"/register",name:"Register",component:jt},{path:"/post/add",name:"AddPost",component:sr},{path:"/me/edit",name:"MeEdit",component:nr},{path:"/post/:id",name:"PostId",props:!0,component:$r}]});de(Ve).use(Ge).use(Sr).use(ne,le).mount("#app");
